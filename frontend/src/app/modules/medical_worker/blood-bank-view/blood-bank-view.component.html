<section style="background-color: white;">
    <div class="container py-5">
      <h2>{{bloodBank.name}}</h2>
      <div class="row ">
        <div class="col-lg-4">
          <div class="card mb-4" style="background-color: #632626; color: white;">
            <div class="card-body text-center" style="margin-top: 2.4rem;">
              <img src={{bloodBank.image}} alt="avatar"
                class="img-fluid" >
              <h5 class="my-3">Average grade: {{bloodBank.avgGrade}}</h5>
              <button class="btn btn-primary btn-sm" (click)="publishNews()">Publish News</button>
            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card mb-4 h-100" style="background-color: #632626; color: white;">
            <div class="card-body">
              <div class="row" *ngIf="!editName">
                <div class="col-sm-3">
                  <p class="mb-0">Name</p>
                </div>
                <div class="col-sm-8">
                  <p class=" mb-0">{{bloodBank.name}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" (click)="editName = !editName">Edit</a>
                </div>
              </div>
              <div class="row"  *ngIf="editName">
                   <form>
                      <label for="fname">Name:</label>
                      <input type="text" class="m-3" [(ngModel)]="bloodBank.name" (keyup)="validation.checkNameEmpty(bloodBank.name)" name="Name" required>
                      <button class="btn btn-primary btn-sm" (click)="editBank(); editName = !editName;">Edit</button>
                      <br><span style=" display: none;" id="emptyNameAlert">Name field is empty!</span>
                  </form> 
              </div>
              <hr>
              <div class="row" *ngIf="!editCountry">
                <div class="col-sm-3">
                  <p class="mb-0">Country</p>
                </div>
                <div class="col-sm-8">
                  <p class=" mb-0">{{bloodBank.address.country}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" (click)="editCountry = !editCountry">Edit</a>
                </div>
              </div>
              <div class="row" *ngIf="editCountry">
                   <form>
                      <label for="fname">Country:</label>
                      <input type="text" class="m-2" [(ngModel)]="bloodBank.address.country" (keyup)="validation.checkCountryEmpty(bloodBank.address.country)" name="Country" required>
                      <button class="btn btn-primary btn-sm" (click)="editBank(); editCountry = !editCountry">Edit</button>
                      <br><span style=" display: none;" id="emptyCountryAlert">Country field is empty!</span>
                  </form> 
              </div>
              <hr>
              <div class="row" *ngIf="!editCity">
                <div class="col-sm-3">
                  <p class="mb-0">City</p>
                </div>
                <div class="col-sm-8">
                  <p class=" mb-0">{{bloodBank.address.city}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" (click)=" editCity = !editCity">Edit</a>
                </div>
              </div>
              <div class="row" *ngIf="editCity">
                   <form>
                      <label for="fname">City:</label>
                      <input type="text" class="m-3" [(ngModel)]="bloodBank.address.city" (keyup)="validation.checkNameEmpty(bloodBank.address.city)" name="City" required>
                      <button class="btn btn-primary btn-sm" (click)="editBank(); editCity = !editCity">Edit</button>
                      <br><span style=" display: none;" id="emptyNameAlert">City field is empty!</span>
                  </form> 
              </div>
              <hr>
              <div class="row" *ngIf="!editStreet">
                <div class="col-sm-3">
                  <p class="mb-0">Street</p>
                </div>
                <div class="col-sm-8">
                  <p class=" mb-0">{{bloodBank.address.street}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" (click)=" editStreet = !editStreet">Edit</a>
                </div>
              </div>
              <div class="row" *ngIf="editStreet">
                   <form>
                      <label for="fname">Street:</label>
                      <input type="text" class="m-3" [(ngModel)]="bloodBank.address.street" name="Street" (keyup)="validation.checkNameEmpty(bloodBank.address.street)" required>
                      <button class="btn btn-primary btn-sm" (click)="editBank(); editStreet = !editStreet">Edit</button>
                      <br><span style=" display: none;" id="emptyNameAlert">Street field is empty!</span>
                  </form> 
              </div>
              <hr>
              <div class="row" *ngIf="!editNumber">
                <div class="col-sm-3">
                  <p class="mb-0">Number</p>
                </div>
                <div class="col-sm-8">
                  <p class="mb-0">{{bloodBank.address.number}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" (click)="editNumber = !editNumber">Edit</a>
                </div>
              </div>
              <div class="row" *ngIf="editNumber">
                   <form>
                      <label for="fname">Number:</label>
                      <input type="text" class="m-3" [(ngModel)]="bloodBank.address.number" name="Number" required (keyup)="validation.checkNameEmpty(bloodBank.address.number)">
                      <button class="btn btn-primary btn-sm" (click)="editBank(); editNumber = !editNumber">Edit</button>
                      <br><span style=" display: none;" id="emptyNameAlert">Number field is empty!</span>
                  </form> 
              </div>
              <hr>
              <div class="row" *ngIf="!editDescription">
                <div class="col-sm-3">
                  <p class="mb-0">Description</p>
                </div>
                <div class="col-sm-8">
                  <p class="text-muted mb-0">{{bloodBank.description}}</p>
                </div>
                <div class="col-sm justify-content-end">
                    <a class="text-right mb-0" hover="pointer" (click)="editDescription = !editDescription">Edit</a>
                </div>
              </div>
              <div class="row" *ngIf="editDescription">
                <form>
                   <label for="fname">Description:</label>
                   <input type="text" class="m-3" [(ngModel)]="bloodBank.description" name="Number" required>
                   <button class="btn btn-primary btn-sm" (click)="editBank(); editDescription = !editDescription">Edit</button>
               </form> 
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">API Key</p>
              </div>
              <div class="col-sm-8">
                <p class="text-muted mb-0">{{bloodBank.apiKey}}</p>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row m-4">
        <div class="col-lg-8">
          <div class="card mb-4 h-100" style="background-color: #632626; color:white">
            <div class="container">
              <div class="table-header row">
                <div class="col-sm-11">
                  <h4 class="m-4">Medical Workers</h4>
                </div>
                <button mat-fab color="primary"  mat-mini-fab style="float: right;" matTooltip="New blood bank" matTooltipPosition="right" aria-label="Example icon button with a bookmark icon" (click)="addMedicalWorkers()">
                    <mat-icon>add</mat-icon>
                  </button>
            </div>
            <table mat-table [dataSource]="dataSource">
                <ng-container matColumnDef="name" >
                    <th mat-header-cell *matHeaderCellDef class="cell-center"> Name </th>
                    <td mat-cell *matCellDef="let medicalWorker" class="clickable cell-center" >{{medicalWorker.name}}</td>
                </ng-container>
                <ng-container matColumnDef="surname" >
                    <th mat-header-cell *matHeaderCellDef class="cell-center"> Last Name </th>
                    <td mat-cell *matCellDef="let medicalWorker" class="clickable cell-center" >{{medicalWorker.surname}}</td>
                </ng-container>
                <ng-container matColumnDef="email" >
                    <th mat-header-cell *matHeaderCellDef class="cell-center"> Email </th>
                    <td mat-cell *matCellDef="let medicalWorker" class="clickable cell-center" >{{medicalWorker.email}}</td>
                </ng-container>
                <ng-container matColumnDef="jmbg" >
                  <th mat-header-cell *matHeaderCellDef class="cell-center"> Jmbg </th>
                  <td mat-cell *matCellDef="let medicalWorker" class="clickable cell-center" >{{medicalWorker.jmbg}}</td>
                </ng-container>
                <ng-container matColumnDef="remove" >
                    <th mat-header-cell *matHeaderCellDef class="cell-center">Remove</th>
                    <td mat-cell *matCellDef="let medicalWorker" class="clickable cell-center" >
                        <button mat-icon-button color="warn" (click)="removeWorker(medicalWorker)">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>